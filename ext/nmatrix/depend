dtypes.h: generator.rb
	$(RUBY) -I$(srcdir) $(srcdir)/generator.rb

dtypes.c: generator.rb
	$(RUBY) -I$(srcdir) $(srcdir)/generator.rb

dfuncs.o: dfuncs.c $(hdrdir)/ruby.h

$(DLLIB): dtypes.h dtypes.c dfuncs.c $(OBJS) Makefile
	# $(ECHO) linking shared-object $(DLLIB)
	@-$(RM) $(@)
	$(Q) $(LDSHARED) -o $@ $(OBJS) $(LIBPATH) $(DLDFLAGS) $(LOCAL_LIBS) $(LIBS)
